{"version":3,"sources":["Components/Card.js","Components/CartItem.js","Components/Cart.js","App.js","serviceWorker.js","index.js"],"names":["Product","product","addToCart","remaining","Image","style","textAlign","width","src","sku","alt","Content","Item","as","align","Trigger","Menu","disabled","onClick","size","title","subtitle","price","CartItem","amount","removeFromCart","rounded","ShoppingCart","i","cartInfoContent","contents","length","content","push","Group","multiline","map","key","App","useState","data","setData","cartActive","setCart","cartInfo","setCartInfo","inventory","setInventory","useEffect","a","fetch","response","json","fetchInventory","inCart","productId","renderUpdate","set","value","useRenderUpdate","products","Object","values","id2product","fetchProducts","addCartItem","index","computeRemaining","paddingTop","fixed","paddingLeft","paddingRight","Brand","fontSize","color","icon","faShoppingCart","active","Background","Cart","Close","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c5015213.chunk.js","sourcesContent":["import React from 'react';\r\nimport 'rbx/index.css';\r\nimport { Card, Dropdown, Button, Content, Media, Title } from 'rbx';\r\n\r\nconst Product = ({ product, addToCart, remaining }) => {\r\n    return (\r\n        <Card>\r\n            <Card.Image>\r\n                <div style={{ textAlign: 'center', width: '100%' }}>\r\n                    <img src={`./data/products/${product.sku}_2.jpg`} alt='' />\r\n                </div>\r\n            </Card.Image>\r\n            <Card.Content>\r\n                <Media>\r\n                    <Media.Item as=\"figure\" align=\"left\">\r\n                        <Dropdown>\r\n                            <Dropdown.Trigger>\r\n                                <Button>\r\n                                    <span>Size</span>\r\n                                </Button>\r\n                            </Dropdown.Trigger>\r\n                            <Dropdown.Menu>\r\n                                <Dropdown.Content>\r\n                                { remaining['S'] !== 0 ? <Dropdown.Item disabled={ remaining['S'] !=- 0 } onClick={ () => addToCart(product.sku, 'S') }>Size: S - { remaining['S'] } Remaining</Dropdown.Item> : null }\r\n                                { remaining['M'] !== 0 ? <Dropdown.Item disabled={ remaining['M'] !=- 0 } onClick={ () => addToCart(product.sku, 'M') }>Size: M - { remaining['M'] } Remaining</Dropdown.Item> : null }\r\n                                { remaining['L'] !== 0 ? <Dropdown.Item disabled={ remaining['L'] !=- 0 } onClick={ () => addToCart(product.sku, 'L') }>Size: L - { remaining['L'] } Remaining</Dropdown.Item> : null }\r\n                                { remaining['XL'] !== 0 ? <Dropdown.Item disabled={ remaining['XL'] !=- 0 } onClick={ () => addToCart(product.sku, 'XL') }>Size: XL - { remaining['XL'] } Remaining</Dropdown.Item> : null }\r\n                                </Dropdown.Content>\r\n                            </Dropdown.Menu>\r\n                        </Dropdown>\r\n                    </Media.Item>\r\n                    <Media.Item>\r\n                        <Title as=\"p\" size={6}>\r\n                            {product.title}\r\n                        </Title>\r\n                        <Title as=\"p\" subtitle size={6}>\r\n                            {'$' + product.price}\r\n                        </Title>\r\n                    </Media.Item>\r\n                </Media>\r\n                <Content>\r\n                    {product.style}\r\n                </Content>\r\n            </Card.Content>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default Product;","import React from 'react';\r\nimport 'rbx/index.css';\r\nimport { Card, Button, Content, Media, Title } from 'rbx';\r\n\r\nconst CartItem = ({ product, size, amount, removeFromCart }) => {\r\n  return (\r\n    <Card>\r\n      <Card.Image>\r\n        <div style={{ textAlign: 'center', width: '100%' }}>\r\n          <img src={`./data/products/${product.sku}_2.jpg`} alt='' />\r\n        </div>\r\n      </Card.Image>\r\n      <Card.Content>\r\n        <Media>\r\n          <Media.Item as=\"figure\" align=\"left\">\r\n            <Button>\r\n              <span>{'Size: ' + size}</span>\r\n            </Button>\r\n          </Media.Item>\r\n          <Media.Item>\r\n            <Title as=\"p\" size={6}>\r\n              {product.title}\r\n            </Title>\r\n            <Title as=\"p\" subtitle size={6}>\r\n              {'$' + amount * product.price}\r\n            </Title>\r\n          </Media.Item>\r\n        </Media>\r\n        <Content>\r\n          {\"Quantity: \" + amount}\r\n        </Content>\r\n        <Content>\r\n          {'$' + product.price + ' per item'}\r\n        </Content>\r\n        <Button onClick={() => { removeFromCart(product.sku, size); }\r\n        } rounded>\r\n          Remove\r\n          </Button>\r\n      </Card.Content>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default CartItem;","import React from 'react';\r\nimport 'rbx/index.css';\r\nimport { Title, Column, Container } from 'rbx';\r\nimport CartItem from './CartItem';\r\n\r\nconst ShoppingCart = ({ cartInfoContent, removeFromCart }) => {\r\n    const contents = [];\r\n    let i;\r\n    for (i = 0; i < cartInfoContent.length; i += 1) {\r\n        const content = cartInfoContent[i];\r\n        const product = content.product;\r\n        if (content['S'] !== 0) {\r\n            contents.push([product, 'S', content['S']]);\r\n        }\r\n        if (content['M'] !== 0) {\r\n            contents.push([product, 'M', content['M']]);\r\n        }\r\n        if (content['L'] !== 0) {\r\n            contents.push([product, 'L', content['L']]);\r\n        }\r\n        if (content['XL'] !== 0) {\r\n            contents.push([product, 'XL', content['XL']]);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Title>Shopping Cart</Title>\r\n            <Column.Group multiline>\r\n                <Column size='full'>\r\n                </Column>\r\n                {contents.map(content =>\r\n                    <Column size='full' key={content[0].sku}>\r\n                        <CartItem product={content[0]} size={content[1]} amount={content[2]} removeFromCart={removeFromCart} />\r\n                    </Column>\r\n                )}\r\n            </Column.Group>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default ShoppingCart;","import React, { useEffect, useState } from 'react';\r\nimport 'rbx/index.css';\r\nimport { Column, Container, Navbar, Button, Icon, Modal, Box } from 'rbx';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faShoppingCart } from '@fortawesome/free-solid-svg-icons';\r\nimport Product from './Components/Card';\r\nimport Cart from './Components/Cart';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\n\r\nconst App = () => {\r\n  const [data, setData] = useState({});\r\n  const [cartActive, setCart] = useState(false);\r\n  const [cartInfo, setCartInfo] = useState([]);\r\n  const [inventory, setInventory] = useState({});\r\n\r\n  useEffect(() => {\r\n    const fetchInventory = async () => {\r\n      const response = await fetch('./data/items.json');\r\n      const json = await response.json();\r\n      setInventory(json);\r\n    };\r\n\r\n    fetchInventory();\r\n  }, []);\r\n\r\n  const inCart = (productId) => {\r\n    for (i = 0; i < cartInfo.length; i += 1) {\r\n      if (cartInfo[i].productId === productId) {\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  const useRenderUpdate = () => {\r\n    const [value, set] = useState(true);\r\n    return () => set(value => !value);\r\n  }\r\n  const renderUpdate = useRenderUpdate();\r\n\r\n  const products = Object.values(data);\r\n\r\n  const id2product = {}\r\n  let i;\r\n  for (i = 0; i < products.length; i += 1) {\r\n    id2product[products[i].sku] = products[i];\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      const response = await fetch('./data/products.json');\r\n      const json = await response.json();\r\n      setData(json);\r\n    };\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const addCartItem = (productId, size) => {\r\n    const index = inCart(productId);\r\n    if (index !== -1) {\r\n      cartInfo[index][size] += 1;\r\n    }\r\n    else {\r\n      cartInfo.push({\r\n        productId: productId,\r\n        product: id2product[productId],\r\n        'S': 0,\r\n        'M': 0,\r\n        'L': 0,\r\n        'XL': 0,\r\n      });\r\n      cartInfo[cartInfo.length - 1][size] += 1;\r\n    }\r\n    setCartInfo(cartInfo);\r\n    setCart(true);\r\n    renderUpdate();\r\n  };\r\n\r\n  const removeCartItem = (productId, size) => {\r\n    const index = inCart(productId);\r\n    if (index !== -1) {\r\n      cartInfo[index][size] = cartInfo[index][size] > 0 ? cartInfo[index][size] - 1 : 0;\r\n    }\r\n    else {\r\n      cartInfo.push({\r\n        productId: productId,\r\n        product: id2product[productId],\r\n        'S': 0,\r\n        'M': 0,\r\n        'L': 0,\r\n        'XL': 0,\r\n      });\r\n      cartInfo[index][size] = cartInfo[index][size] > 0 ? cartInfo[index][size] - 1 : 0;\r\n    }\r\n    setCartInfo(cartInfo);\r\n    renderUpdate();\r\n  };\r\n\r\n  const computeRemaining = (productId) => {\r\n    const index = inCart(productId);\r\n    const remaining = {\r\n      'S': inventory[productId] ? (index === -1 ? (inventory[productId]['S']) : (inventory[productId]['S'] - cartInfo[index]['S'])) : 0,\r\n      'M': inventory[productId] ? (index === -1 ? (inventory[productId]['M']) : (inventory[productId]['M'] - cartInfo[index]['M'])) : 0,\r\n      'L': inventory[productId] ? (index === -1 ? (inventory[productId]['L']) : (inventory[productId]['L'] - cartInfo[index]['L'])) : 0,\r\n      'XL': inventory[productId] ? (index === -1 ? (inventory[productId]['XL']) : (inventory[productId]['XL'] - cartInfo[index]['XL'])) : 0,\r\n    };\r\n    return remaining;\r\n  };\r\n\r\n  return (\r\n    <Container as='div' style={{ width: '100%', paddingTop: '20px' }}>\r\n      <Navbar fixed='top' as='div' style={{ paddingLeft: '60px', paddingRight: '50px', paddingTop: '10px' }}>\r\n        <Navbar.Brand>\r\n          <Navbar.Item>\r\n            <h1 style={{ fontSize: '24px' }}><strong>Catalog</strong></h1>\r\n          </Navbar.Item>\r\n          <Navbar.Item>\r\n            <Button color='black' onClick={() => setCart(true)}>\r\n              <Icon>\r\n                <FontAwesomeIcon icon={faShoppingCart} />\r\n              </Icon>\r\n            </Button>\r\n          </Navbar.Item>\r\n        </Navbar.Brand>\r\n      </Navbar>\r\n      <Modal active={cartActive}>\r\n        <Modal.Background />\r\n        <Modal.Content>\r\n          <Box>\r\n            <Cart cartInfoContent={cartInfo} removeFromCart={removeCartItem} />\r\n          </Box>\r\n        </Modal.Content>\r\n        <Modal.Close onClick={() => setCart(false)} />\r\n      </Modal>\r\n      <Column.Group multiline>\r\n        <Column size='full'>\r\n        </Column>\r\n        {products.map(product =>\r\n          <Column size='one-third'>\r\n            <Product product={product} addToCart={addCartItem} remaining={ computeRemaining(product.sku) } />\r\n          </Column>\r\n        )}\r\n      </Column.Group>\r\n    </Container>\r\n  );\r\n};\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}