{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hyung-soon/Documents/github/new-shopping-cart/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hyung-soon/Documents/github/new-shopping-cart/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/hyung-soon/Documents/github/new-shopping-cart/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import'rbx/index.css';import{Column,Container,Navbar,Button,Icon,Modal,Box}from'rbx';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faShoppingCart}from'@fortawesome/free-solid-svg-icons';import Product from'./Components/Card';import Cart from'./Components/Cart';var App=function App(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),cartActive=_useState4[0],setCart=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),cartInfo=_useState6[0],setCartInfo=_useState6[1];var useRenderUpdate=function useRenderUpdate(){var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),value=_useState8[0],set=_useState8[1];return function(){return set(function(value){return!value;});};};var renderUpdate=useRenderUpdate();var products=Object.values(data);var id2product={};var i;for(i=0;i<products.length;i+=1){id2product[products[i].sku]=products[i];}useEffect(function(){var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('./data/products.json');case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;setData(json);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();fetchProducts();},[]);var addCartItem=function addCartItem(productId,size){var i;var found=false;var content=cartInfo;for(i=0;i<content.length;i+=1){if(content[i].productId===productId){found=true;break;}}if(found){content[i][size]+=1;}else{content.push({productId:productId,product:id2product[productId],'S':0,'M':0,'L':0,'XL':0});content[content.length-1][size]+=1;}setCartInfo(content);setCart(true);renderUpdate();};var removeCartItem=function removeCartItem(productId,size){var i;var found=false;var content=cartInfo;for(i=0;i<content.length;i+=1){if(content[i].productId===productId){found=true;break;}}if(found){content[i][size]=content[i][size]>0?content[i][size]-1:0;}else{content.push({productId:productId,product:id2product[productId],'S':0,'M':0,'L':0,'XL':0});content[i][size]=content[i][size]>0?content[i][size]-1:0;}setCartInfo(content);renderUpdate();};return React.createElement(Container,{as:\"div\",style:{width:'100%',paddingTop:'20px'}},React.createElement(Navbar,{fixed:\"top\",as:\"div\",style:{paddingLeft:'60px',paddingRight:'50px',paddingTop:'10px'}},React.createElement(Navbar.Brand,null,React.createElement(Navbar.Item,null,React.createElement(\"h1\",{style:{fontSize:'24px'}},React.createElement(\"strong\",null,\"Catalog\"))),React.createElement(Navbar.Item,null,React.createElement(Button,{color:\"black\",onClick:function onClick(){return setCart(true);}},React.createElement(Icon,null,React.createElement(FontAwesomeIcon,{icon:faShoppingCart})))))),React.createElement(Modal,{active:cartActive},React.createElement(Modal.Background,null),React.createElement(Modal.Content,null,React.createElement(Box,null,React.createElement(Cart,{cartInfoContent:cartInfo,removeFromCart:removeCartItem}))),React.createElement(Modal.Close,{onClick:function onClick(){return setCart(false);}})),React.createElement(Column.Group,{multiline:true},React.createElement(Column,{size:\"full\"}),products.map(function(product){return React.createElement(Column,{size:\"one-third\"},React.createElement(Product,{product:product,addToCart:addCartItem}));})));};export default App;","map":{"version":3,"sources":["/Users/hyung-soon/Documents/github/new-shopping-cart/src/App.js"],"names":["React","useEffect","useState","Column","Container","Navbar","Button","Icon","Modal","Box","FontAwesomeIcon","faShoppingCart","Product","Cart","App","data","setData","cartActive","setCart","cartInfo","setCartInfo","useRenderUpdate","value","set","renderUpdate","products","Object","values","id2product","i","length","sku","fetchProducts","fetch","response","json","addCartItem","productId","size","found","content","push","product","removeCartItem","width","paddingTop","paddingLeft","paddingRight","fontSize","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport 'rbx/index.css';\nimport { Column, Container, Navbar, Button, Icon, Modal, Box } from 'rbx';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faShoppingCart } from '@fortawesome/free-solid-svg-icons';\nimport Product from './Components/Card';\nimport Cart from './Components/Cart';\n\nconst App = () => {\n  const [data, setData] = useState({});\n  const [cartActive, setCart] = useState(false);\n  const [cartInfo, setCartInfo] = useState([]);\n\n  const useRenderUpdate = () => {\n    const [value, set] = useState(true);\n    return () => set(value => !value);\n  }\n  const renderUpdate = useRenderUpdate();\n\n  const products = Object.values(data);\n\n  const id2product = {}\n  let i;\n  for (i = 0; i < products.length; i += 1) {\n    id2product[products[i].sku] = products[i];\n  }\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      const response = await fetch('./data/products.json');\n      const json = await response.json();\n      setData(json);\n    };\n    fetchProducts();\n  }, []);\n\n  const addCartItem = (productId, size) => {\n    let i;\n    let found = false;\n    let content = cartInfo;\n    for (i = 0; i < content.length; i += 1) {\n      if (content[i].productId === productId) {\n        found = true;\n        break;\n      }\n    }\n    if (found) {\n      content[i][size] += 1;\n    }\n    else {\n      content.push({\n        productId: productId,\n        product: id2product[productId],\n        'S': 0,\n        'M': 0,\n        'L': 0,\n        'XL': 0,\n      });\n      content[content.length - 1][size] += 1;\n    }\n    setCartInfo(content);\n    setCart(true);\n    renderUpdate();\n  };\n\n  const removeCartItem = (productId, size) => {\n    let i;\n    let found = false;\n    let content = cartInfo;\n    for (i = 0; i < content.length; i += 1) {\n      if (content[i].productId === productId) {\n        found = true;\n        break;\n      }\n    }\n    if (found) {\n      content[i][size] = content[i][size] > 0 ? content[i][size] - 1 : 0;\n    }\n    else {\n      content.push({\n        productId: productId,\n        product: id2product[productId],\n        'S': 0,\n        'M': 0,\n        'L': 0,\n        'XL': 0,\n      });\n      content[i][size] = content[i][size] > 0 ? content[i][size] - 1 : 0;\n    }\n    setCartInfo(content);\n    renderUpdate();\n  };\n\n  return (\n    <Container as='div' style={{ width: '100%', paddingTop: '20px' }}>\n      <Navbar fixed='top' as='div' style={{ paddingLeft: '60px', paddingRight: '50px', paddingTop: '10px' }}>\n        <Navbar.Brand>\n          <Navbar.Item>\n            <h1 style={{ fontSize: '24px' }}><strong>Catalog</strong></h1>\n          </Navbar.Item>\n          <Navbar.Item>\n            <Button color='black' onClick={() => setCart(true)}>\n              <Icon>\n                <FontAwesomeIcon icon={faShoppingCart} />\n              </Icon>\n            </Button>\n          </Navbar.Item>\n        </Navbar.Brand>\n      </Navbar>\n      <Modal active={cartActive}>\n        <Modal.Background />\n        <Modal.Content>\n          <Box>\n            <Cart cartInfoContent={cartInfo} removeFromCart={removeCartItem} />\n          </Box>\n        </Modal.Content>\n        <Modal.Close onClick={() => setCart(false)} />\n      </Modal>\n      <Column.Group multiline>\n        <Column size='full'>\n        </Column>\n        {products.map(product =>\n          <Column size='one-third'>\n            <Product product={product} addToCart={addCartItem} />\n          </Column>\n        )}\n      </Column.Group>\n    </Container>\n  );\n};\nexport default App;"]},"metadata":{},"sourceType":"module"}